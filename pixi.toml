[project]
name = "logerr"
version = "0.1.0"
description = "Rust-like Option and Result types with automatic logging integration"
channels = ["conda-forge"]
platforms = ["osx-arm64", "linux-64", "win-64"]

[environments]
default = ["dev", "docs"]
dev = ["dev"]
docs = ["docs"]
recipes = ["recipes", "dev"]

[tasks]
# Unified task scripts
quality = { cmd = "python scripts/quality.py", description = "Code quality management (linting, formatting, type checking)" }
dev = { cmd = "python scripts/dev.py", description = "Development environment management (setup, status, clean)" }
build = { cmd = "python scripts/build.py", description = "Build and distribution management (packaging, uploading)" }
docs = { cmd = "python scripts/docs.py", description = "Documentation management (serve, build, deploy)" }
test = { cmd = "python scripts/test.py", description = "Testing management (unit, integration, docs)" }

# Unified operations
clean = { cmd = "python scripts/test.py clean && python scripts/docs.py clean && python scripts/build.py clean && python scripts/dev.py clean", description = "Clean all project artifacts (test, docs, build, dev)" }
check-all = { cmd = "python scripts/test.py all && python scripts/quality.py check", description = "Run comprehensive checks (all tests + quality)" }

[dependencies]
python = ">=3.12,<3.13"
loguru = ">=0.7.3,<0.8"
confection = ">=0.1.5,<0.2"

[feature.dev.dependencies]
pytest = "*"
pytest-cov = ">=6.2.1,<7"
pytest-xdist = "*"
hypothesis = "*"
mypy = "*"
ruff = "*"
pre-commit = ">=4.2.0,<5"
python-build = ">=1.2.2.post1,<2"
twine = ">=6.1.0,<7"
tenacity = ">=9.1.2,<10"
rich = "*"
typer = "*"


[feature.docs.dependencies]
mkdocs = "*"
mkdocs-material = "*"
mkdocstrings = "*"
mkdocstrings-python = "*"


[feature.recipes.dependencies]
tenacity = ">=9.1.2,<10"
pymongo = ">=4.0.0,<5"
pandas = ">=2.0.0,<3"

